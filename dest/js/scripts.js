!function(a){var t,e,s,n,c,i,o,r,p,l,d=a(".load-more"),u=0,f=!1;function v(){l=a.ajax({url:"./php/list.php",type:"get",data:{title:t,description:e,cost:s,discountCost:n,new:c,img:i,page:o,perPage:r,total:p},beforeSend:function(){f=!0},success:function(t){var e=JSON.parse(t),s=e.entities;p=parseInt(e.total),r=parseInt(e.perPage),o=parseInt(e.page),a.each(s,function(t,e){a(".products-wrapper .row").append("<li class='product-item-wrap text-center col-3 mb-4 hide'><div class='product-item col-12'><div class='product-img-wrap'><img class='product-img' src="+e.img+" alt="+e.title+"> </div><h3 class='product-title'>"+e.title+"</h3><p class='description'>"+e.description+"</p>"+(void 0!==e.discountCost&&null!==e.discountCost?"<div class='price-wrapper'> <span class='special-price'>$"+e.discountCost+"</span><span class='price old-price'>$ "+e.cost+"</span>":"<div class='price-wrapper'> <span class='price'>$"+e.cost+"</span>")+"</div>"+(null!==e.discountCost?"<span class='sales-icon'>Sale</span>":"")+(!1!==e.new&&null!==e.new?"<span class='new-icon'>New</span>":"")+"<button class='btn addtocart'>Add to cart</button> <button class='btn view'>View</button></div></li>")}),o++,f=!1,g(),u=0},complete:function(){f=!1,u&&m()},error:function(t){return f=!1,console.log("Ajax request gave an error: ",t),f}})}function w(){return u+=1,!0!==f?null!=u&&(d.attr("disabled",!0),m(),g(),v()):(g(),m()),p/r<o-1&&(d.css("display","none"),m()),u}function m(){var t=a(".product-item-wrap.hide");0<t.length?(t.removeClass("hide"),t.hide().fadeIn(1500)):setTimeout(function(){t.removeClass("hide"),t.hide().fadeIn(1500)},2e3)}function g(){!0===f&&0<l.readyState&&l.readyState<4?a(".loader-wrapper").css("display","block"):(a(".loader-wrapper").css("display","none"),d.attr("disabled",!1))}a(document).ready(function(){v(),d.on("click",w).on("dblclick",function(t){return t.stopPropagation(),t.preventDefault(),!1})})}(jQuery);