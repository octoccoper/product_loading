!function(a){var e,t,s,n,i,o,r,c,p,l,d=a(".load-more"),u=0,w=!1;function f(){l=a.ajax({url:"./php/list.php",type:"get",data:{title:e,description:t,cost:s,discountCost:n,new:i,img:o,page:r,perPage:c,total:p},beforeSend:function(){w=!0,p/c<r-1&&(d.css("display","none"),v())},success:function(e){var t=JSON.parse(e),s=t.entities;p=parseInt(t.total),c=parseInt(t.perPage),r=parseInt(t.page),a.each(s,function(e,t){a(".products-wrapper .row").append("<li class='product-item-wrap text-center col-3 mb-4 hide'><div class='product-item col-12'><div class='product-img-wrap'><img class='product-img' src="+t.img+" alt="+t.title+"> </div><h3 class='product-title'>"+t.title+"</h3><p class='description'>"+t.description+"</p>"+(void 0!==t.discountCost&&null!==t.discountCost?"<div class='price-wrapper'> <span class='special-price'>$"+t.discountCost+"</span><span class='price old-price'>$ "+t.cost+"</span>":"<div class='price-wrapper'> <span class='price'>$"+t.cost+"</span>")+"</div>"+(null!==t.discountCost?"<span class='sales-icon'>Sale</span>":"")+(!1!==t.new&&null!==t.new?"<span class='new-icon'>New</span>":"")+"<button class='btn addtocart'>Add to cart</button> <button class='btn view'>View</button></div></li>")}),r++,w=!1,a(".loader-wrapper").css("display","none"),u=0},complete:function(){w=!1},error:function(e){return w=!1,console.log("Ajax request gave an error: ",e),w}})}function m(){u+=1,v(),!0!==w?null!=u&&(d.attr("disabled",!0),g(),f()):0<l.readyState&&l.readyState<4?a(".loader-wrapper").css("display","block"):(a(".loader-wrapper").css("display","none"),d.attr("disabled",!1))}function v(){var e=a(".product-item-wrap.hide");0<e.length?(e.removeClass("hide"),e.hide().fadeIn(1e3)):(g(),setTimeout(function(){(e=a(".product-item-wrap.hide")).removeClass("hide"),e.hide().fadeIn(1e3)},3e3))}function g(){!0===w?a(".loader-wrapper").css("display","none"):(a(".loader-wrapper").css("display","none"),d.attr("disabled",!1))}a(document).ready(function(){f(),d.on("click",m).on("dblclick",function(e){return e.stopPropagation(),e.preventDefault(),!1})})}(jQuery);