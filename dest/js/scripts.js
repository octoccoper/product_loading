!function(a){var s,e,t,n,o,c,i,r,p,d=a(".load-more"),l=0,u=!1;function w(){a.ajax({url:"/product_loading/php/list.php",type:"get",data:{title:s,description:e,cost:t,discountCost:n,new:o,img:c,page:i,perPage:r,total:p},beforeSend:function(){u=!0,0!==parseInt(l)&&(!0===u?a(".loader-wrapper").css("display","block"):(a(".loader-wrapper").css("display","none"),g()),d.attr("disabled",!0))},success:function(s){var e=JSON.parse(s),t=e.entities;p=parseInt(e.total),r=parseInt(e.perPage),i=parseInt(e.page),p/r<i-1&&(d.hide(),g()),a.each(t,function(s,e){a(".products-wrapper .row").append("<li class='product-item-wrap text-center col-3 mb-4 hide'><div class='product-item col-12'><div class='product-img-wrap'><img class='product-img' src="+e.img+" alt="+e.title+"> </div><h3 class='product-title'>"+e.title+"</h3><p class='description'>"+e.description+"</p>"+(void 0!==e.discountCost&&null!==e.discountCost?"<div class='price-wrapper'> <span class='special-price'>$"+e.discountCost+"</span><span class='price old-price'>$ "+e.cost+"</span>":"<div class='price-wrapper'> <span class='price'>$"+e.cost+"</span>")+"</div>"+(null!==e.discountCost?"<span class='sales-icon'>Sale</span>":"")+(!1!==e.new&&null!==e.new?"<span class='new-icon'>New</span>":"")+"<button class='btn addtocart'>Add to cart</button> <button class='btn view'>View</button></div></li>")}),i++,a(".loader-wrapper").css("display","none")},complete:function(){u=!1,d.attr("disabled",!1)},error:function(s){return u=!1,console.log("Ajax request gave an error: ",s),u}})}function v(){1===(l+=1)&&g(),null!==parseInt(l)&&void 0!==l&&w()}function g(){var s=a(".product-item-wrap.hide");console.log("addedProducts",s),s.removeClass("hide"),s.hide().fadeIn(3e3)}a(window).on("load",function(){w()}),a(document).ready(function(){d.on("click",v)})}(jQuery);